<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bursaspor FM26 Strateji Merkezi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --team-color: #1a7a3a; }
        body { background-color: #0d1117; color: #e6edf3; font-family: 'Inter', sans-serif; }
        
        /* SAHA TASARIMI */
        .pitch { 
            background: #1e3d24; border: 4px solid #ffffff33; position: relative; height: 700px; width: 100%; border-radius: 20px;
            background-image: repeating-linear-gradient(#244a2b 0, #244a2b 50px, #1e3d24 50px, #1e3d24 100px);
            box-shadow: inset 0 0 100px rgba(0,0,0,0.6);
            transition: background-color 0.5s ease;
        }
        .pitch.defensive { 
            background-color: #2b1a1a; 
            background-image: repeating-linear-gradient(#3d1e1e 0, #3d1e1e 50px, #2b1a1a 50px, #2b1a1a 100px); 
        }

        /* OYUNCU VE FORMA */
        .player-slot { position: absolute; width: 90px; text-align: center; cursor: pointer; transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 20; }
        .player-slot:hover { transform: scale(1.1); }
        
        .kit-icon { 
            width: 50px; height: 50px; margin: 0 auto; background-color: var(--team-color); 
            background-image: url('https://upload.wikimedia.org/wikipedia/tr/0/00/Bursaspor_logo.png');
            background-repeat: no-repeat; background-position: center; background-size: 25px;
            border: 2px solid white; border-radius: 5px; clip-path: polygon(20% 0%, 80% 0%, 100% 20%, 100% 100%, 0% 100%, 0% 20%);
        }

        .player-slot.missing .kit-icon { 
            background-color: #ef4444 !important; background-image: none; animation: pulse 1.5s infinite; 
        }
        .player-slot.missing .kit-icon::after { content: "!"; color: white; font-weight: bold; font-size: 20px; line-height: 45px; }

        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(239, 68, 68, 0); } 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); } }
        
        .pos-label { font-size: 11px; font-weight: 900; color: white; text-shadow: 1px 1px 2px black; margin-bottom: 2px; }
        .player-name-box { font-size: 10px; background: rgba(0,0,0,0.85); padding: 3px; border-radius: 4px; margin-top: 4px; border: 1px solid rgba(255,255,255,0.1); min-height: 18px; }
        
        .pitch-lines { position: absolute; inset: 0; pointer-events: none; opacity: 0.4; }
        .penalty-box { width: 50%; height: 120px; border: 2px solid white; position: absolute; left: 25%; }
        .center-circle { width: 140px; height: 140px; border: 2px solid white; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
    </style>
</head>
<body class="p-4 lg:p-8">
    <div class="max-w-[1600px] mx-auto">
        
        <header class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8 bg-gray-900 p-6 rounded-2xl border border-gray-800 shadow-2xl">
            <div class="space-y-4">
                <div class="flex items-center gap-4">
                    <div id="teamIcon" class="w-14 h-14 bg-white rounded-xl flex items-center justify-center font-black text-black text-2xl border-4 border-green-600 shadow-inner">B</div>
                    <input type="text" id="teamNameInput" oninput="document.getElementById('teamIcon').innerText = this.value[0].toUpperCase()" value="Bursaspor" class="bg-transparent text-2xl font-black text-white border-b-2 border-transparent focus:border-green-500 outline-none transition-all">
                </div>
                <div class="flex items-center gap-3">
                    <input type="color" id="colorPicker" oninput="document.documentElement.style.setProperty('--team-color', this.value)" value="#1a7a3a" class="w-10 h-8 bg-transparent cursor-pointer">
                    <span class="text-xs font-bold text-gray-500 uppercase tracking-widest">Tema Rengi</span>
                </div>
            </div>

            <div class="bg-gray-800 p-4 rounded-xl border border-gray-700 shadow-inner">
                <h3 class="text-[10px] font-black text-green-500 mb-3 uppercase tracking-widest">üèÉ Oyuncu Ekle</h3>
                <div class="flex gap-2">
                    <input type="text" id="playerNameInput" placeholder="√ñrn: Kerem Matƒ±≈ülƒ±" class="flex-grow bg-black border border-gray-600 rounded-lg p-2 text-xs text-white outline-none focus:border-green-500">
                    <button onclick="addPlayerToPool()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-bold text-xs transition-all">EKLE</button>
                </div>
            </div>

            <div class="flex flex-col justify-center gap-3">
                <label class="text-[10px] font-black text-gray-500 uppercase text-center tracking-widest">Taktiksel G√∂r√ºn√ºm</label>
                <div class="flex bg-black p-1.5 rounded-xl border border-gray-700 shadow-inner">
                    <button id="modeAttack" onclick="setMode('attack')" class="flex-1 py-2.5 text-xs font-black rounded-lg bg-green-700 text-white transition-all">TOPA SAHƒ∞PKEN</button>
                    <button id="modeDefense" onclick="setMode('defense')" class="flex-1 py-2.5 text-xs font-black rounded-lg text-gray-500 hover:text-white transition-all">TOP RAKƒ∞PTEYKEN</button>
                </div>
            </div>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            <div class="lg:col-span-3 space-y-6">
                <div class="bg-gray-900 p-5 rounded-2xl border border-gray-800 shadow-lg">
                    <h3 class="text-xs font-black text-gray-400 mb-4 uppercase tracking-tighter">üìã Ana Dizili≈ü</h3>
                    <select id="formationSelect" onchange="changeFormation()" class="w-full bg-black border border-gray-700 rounded-xl p-3 text-sm font-bold text-white outline-none focus:ring-2 focus:ring-green-500">
                        <option value="4231_2dos">4-2-3-1 (2 DOS'lu)</option>
                        <option value="4231">4-2-3-1 (Standart)</option>
                        <option value="442">4-4-2 Klasik</option>
                        <option value="433">4-3-3 Ofansif</option>
                        <option value="352">3-5-2 Kanat Bekli</option>
                    </select>
                </div>

                <div class="bg-gray-900 p-5 rounded-2xl border border-gray-800 shadow-lg">
                    <h3 class="text-xs font-black text-red-500 mb-4 uppercase flex items-center gap-2">
                        <span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span> TRANSFER Lƒ∞STESƒ∞
                    </h3>
                    <ul id="needsList" class="space-y-2 max-h-[300px] overflow-y-auto pr-2">
                        <li class="text-gray-600 text-[10px] italic text-center py-4 border border-dashed border-gray-800 rounded-lg">Eksik b√∂lgeleri sahada i≈üaretleyin.</li>
                    </ul>
                </div>
            </div>

            <div class="lg:col-span-6">
                <div class="pitch" id="mainPitch">
                    <div class="pitch-lines">
                        <div class="penalty-box top-0"></div>
                        <div class="penalty-box bottom-0" style="bottom: 0;"></div>
                        <div class="center-circle"></div>
                    </div>
                    <div id="playersLayer"></div>
                </div>
            </div>

            <div class="lg:col-span-3">
                <div class="bg-gray-900 p-5 rounded-2xl border border-gray-800 h-[700px] flex flex-col shadow-lg">
                    <h3 class="text-xs font-black text-green-500 mb-4 uppercase tracking-widest">üë• OYUNCU HAVUZU</h3>
                    <div id="playerPool" class="flex-grow overflow-y-auto space-y-2 pr-2">
                        </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const formations = {
            "4231_2dos": [
                {p:"KL", b:"90%", l:"45%"},
                {p:"SƒûB", b:"70%", l:"85%"}, {p:"STP", b:"78%", l:"58%"}, {p:"STP", b:"78%", l:"32%"}, {p:"SLB", b:"70%", l:"5%"},
                {p:"DOS", b:"60%", l:"58%"}, {p:"DOS", b:"60%", l:"32%"},
                {p:"SƒûK", b:"28%", l:"85%"}, {p:"OOS", b:"32%", l:"45%"}, {p:"SLK", b:"28%", l:"5%"},
                {p:"SNT", b:"10%", l:"45%"}
            ],
            "4231": [{p:"KL",b:"90%",l:"45%"},{p:"SƒûB",b:"70%",l:"85%"},{p:"STP",b:"78%",l:"58%"},{p:"STP",b:"78%",l:"32%"},{p:"SLB",b:"70%",l:"5%"},{p:"MO",b:"55%",l:"55%"},{p:"MO",b:"55%",l:"35%"},{p:"SƒûK",b:"28%",l:"85%"},{p:"OOS",b:"32%",l:"45%"},{p:"SLK",b:"28%",l:"5%"},{p:"SNT",b:"10%",l:"45%"}],
            "442": [{p:"KL",b:"90%",l:"45%"},{p:"SƒûB",b:"70%",l:"85%"},{p:"STP",b:"78%",l:"58%"},{p:"STP",b:"78%",l:"32%"},{p:"SLB",b:"70%",l:"5%"},{p:"SƒûO",b:"45%",l:"85%"},{p:"MO",b:"50%",l:"58%"},{p:"MO",b:"50%",l:"32%"},{p:"SLO",b:"45%",l:"5%"},{p:"SNT",b:"15%",l:"58%"},{p:"SNT",b:"15%",l:"32%"}],
            "433": [{p:"KL",b:"90%",l:"45%"},{p:"SƒûB",b:"70%",l:"85%"},{p:"STP",b:"78%",l:"58%"},{p:"STP",b:"78%",l:"32%"},{p:"SLB",b:"70%",l:"5%"},{p:"MO",b:"58%",l:"72%"},{p:"MO",b:"60%",l:"45%"},{p:"MO",b:"58%",l:"18%"},{p:"SƒûK",b:"25%",l:"85%"},{p:"SNT",b:"10%",l:"45%"},{p:"SLK",b:"25%",l:"5%"}],
            "352": [{p:"KL",b:"90%",l:"45%"},{p:"STP",b:"78%",l:"68%"},{p:"STP",b:"80%",l:"45%"},{p:"STP",b:"78%",l:"22%"},{p:"SƒûKB",b:"50%",l:"88%"},{p:"MO",b:"55%",l:"60%"},{p:"MO",b:"55%",l:"45%"},{p:"MO",b:"55%",l:"30%"},{p:"SLKB",b:"50%",l:"2%"},{p:"SNT",b:"15%",l:"58%"},{p:"SNT",b:"15%",l:"32%"}]
        };

        let selectedNeeds = new Set();
        let playersInPool = [];

        function addPlayerToPool() {
            const nameInput = document.getElementById('playerNameInput');
            if(!nameInput.value.trim()) return;
            playersInPool.push(nameInput.value.trim());
            updatePoolUI();
            nameInput.value = '';
        }

        function updatePoolUI() {
            const pool = document.getElementById('playerPool');
            pool.innerHTML = playersInPool.map((name, index) => `
                <div class="bg-gray-800 p-3 rounded-xl border border-gray-700 flex justify-between items-center group hover:border-green-500 transition-all">
                    <span class="text-xs font-bold text-gray-200">üèÉ ${name}</span>
                    <button onclick="removePlayerFromPool(${index})" class="text-red-500 opacity-0 group-hover:opacity-100 transition-all text-sm font-bold">‚úï</button>
                </div>
            `).join('');
        }

        function removePlayerFromPool(index) {
            playersInPool.splice(index, 1);
            updatePoolUI();
        }

        function setMode(mode) {
            const pitch = document.getElementById('mainPitch');
            const btnAtk = document.getElementById('modeAttack');
            const btnDef = document.getElementById('modeDefense');
            
            if(mode === 'defense') {
                pitch.classList.add('defensive');
                btnDef.classList.add('bg-red-900', 'text-white');
                btnDef.classList.remove('text-gray-500');
                btnAtk.classList.remove('bg-green-700', 'text-white');
                btnAtk.classList.add('text-gray-500');
            } else {
                pitch.classList.remove('defensive');
                btnAtk.classList.add('bg-green-700', 'text-white');
                btnAtk.classList.remove('text-gray-500');
                btnDef.classList.remove('bg-red-900', 'text-white');
                btnDef.classList.add('text-gray-500');
            }
        }

        function changeFormation() {
            renderFormation(formations[document.getElementById('formationSelect').value]);
        }

        function renderFormation(playerPositions) {
            const layer = document.getElementById('playersLayer');
            layer.innerHTML = '';
            playerPositions.forEach((pos, index) => {
                const key = `${pos.p}-${index}`;
                const isMissing = selectedNeeds.has(key);
                const div = document.createElement('div');
                div.className = `player-slot ${isMissing ? 'missing' : ''}`;
                div.style.bottom = pos.b;
                div.style.left = pos.l;
                
                div.innerHTML = `
                    <div class="pos-label">${pos.p}</div>
                    <div class="kit-icon"></div>
                    <div class="player-name-box text-white font-bold">${isMissing ? 'ARANIYOR' : '---'}</div>
                `;
                
                div.onclick = () => {
                    if(selectedNeeds.has(key)) selectedNeeds.delete(key);
                    else selectedNeeds.add(key);
                    renderFormation(playerPositions);
                    updateNeedsUI();
                };
                layer.appendChild(div);
            });
        }

        function updateNeedsUI() {
            const list = document.getElementById('needsList');
            if(selectedNeeds.size === 0) {
                list.innerHTML = '<li class="text-gray-600 text-[10px] italic text-center py-4 border border-dashed border-gray-800 rounded-lg">Eksik b√∂lgeleri sahada i≈üaretleyin.</li>';
                return;
            }
            list.innerHTML = Array.from(selectedNeeds).map(item => `
                <li class="bg-red-950/30 border border-red-900/50 p-3 rounded-xl flex justify-between items-center group">
                    <span class="text-[10px] font-black text-red-200">üö© ${item.split('-')[0]} TAKVƒ∞YESƒ∞</span>
                </li>
            `).join('');
        }

        // Ba≈ülangƒ±√ß
        changeFormation();
    </script>
</body>
</html>
